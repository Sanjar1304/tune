<section class="container mx-auto flex flex-col lg:gap-[40px] md:gap-[32px] sm:gap-[32px] mobile:gap-[32px]">
  <app-toast></app-toast>
  <h2 class="lg:block md:hidden sm:hidden mobile:hidden h2 text-[#262626]">{{"calculateCreditPage.title1" | transloco}}</h2>
  <h2 class="lg:hidden md:block h2 text-[#262626]">{{"calculateCreditPage.title2" | transloco}}</h2>
  <div class="md:hidden sm:hidden mobile:hidden lg:w-full lg:flex justify-between gap-[24px]">
    <div class="p-[24px] flex items-center gap-[16px] bg-[#fff] rounded-[30px]">
      <p class="w-[44px] h-[44px] p-[10px] b1 text-[#fff] bg-[#27C5D0] text-center rounded-[12px]">1</p>
      <p class="b1 text-[#262626]">{{"calculateCreditPage.cards.card1" | transloco}}</p>
    </div>
    <div class="p-[24px] flex items-center gap-[16px] bg-[#fff] rounded-[30px]">
      <p class="w-[44px] h-[44px] p-[10px] b1 text-[#fff] bg-[#27C5D0] text-center rounded-[12px]">2</p>
      <p class="b1 text-[#262626]">{{"calculateCreditPage.cards.card2" | transloco}}</p>
    </div>
    <div class="p-[24px] flex items-center gap-[16px] bg-[#fff] rounded-[30px]">
      <p class="w-[44px] h-[44px] p-[10px] b1 text-[#fff] bg-[#27C5D0] text-center rounded-[12px]">3</p>
      <p class="b1 text-[#262626]">{{"calculateCreditPage.cards.card3" | transloco}}</p>
    </div>
    <div class="p-[24px] flex items-center gap-[16px] bg-[#fff] rounded-[30px]">
      <p class="w-[44px] h-[44px] p-[10px] b1 text-[#fff] bg-[#27C5D0] text-center rounded-[12px]">4</p>
      <p class="b1 text-[#262626]">{{"calculateCreditPage.cards.card4" | transloco}}</p>
    </div>
  </div>
  <div class="lg:w-full lg:flex lg:flex-row md:flex md:flex-col bg-[#ECECEC] rounded-[30px]">
    <form [formGroup]="calculatorForm"
          class="lg:w-[50%] md:w-[100%] lg:p-[50px] md:p-[40px] sm:p-[24px] mobile:p-[24px] flex flex-col gap-[40px]">
      <div class="flex flex-col gap-[14px]">
        <h3 class="b3">{{"calculateCreditPage.slider1.title" | transloco}}</h3>
        <div class="h-auto flex items-center gap-[12px]">
          <h3 class="h3"> {{ slider.value | customCurrency}} </h3>
          <img ngSrc="./assets/icons/editing-icon.svg" alt="edit icon" height="19" width="18" loading="lazy">
        </div>
        <div class="">
          <mat-slider
            class="example-margin"
            [max]="maxLoanAmount()"
            [min]="minLoanAmount()"
            [step]="step()">
            <input matSliderThumb #slider formControlName="amount" (change)="onSliderChange()">
          </mat-slider>
          <div class="flex justify-between">
            <p class="b6 text-[#626262]">1 000 000  {{"calculateCreditPage.slider1.sum" | transloco}}</p>
            <p class="b6 text-[#626262]">3 000 000  {{"calculateCreditPage.slider1.sum" | transloco}}</p>
            <p class="b6 text-[#626262]">5 000 000  {{"calculateCreditPage.slider1.sum" | transloco}}</p>
          </div>
        </div>
      </div>
      <div class="flex flex-col gap-[14px]">
        <h3 class="b3">{{"calculateCreditPage.slider2.title" | transloco}}</h3>
        <div class="h-auto flex items-center gap-[12px]">
          <h3 class="h3">{{slider2.value}} {{"calculateCreditPage.slider2.smallYear.month" | transloco}}</h3>
          <img ngSrc="./assets/icons/editing-icon.svg" alt="edit icon" height="19" width="18" loading="lazy">
        </div>
        <div class="">
          <mat-slider
            class="example-margin"
            [max]="maxYear()"
            [min]="minYear()"
            [step]="step()">
            <input matSliderThumb #slider2 formControlName="term" (change)="onSliderChange()">
          </mat-slider>
          <div class="flex justify-between">
            <p class="b6 text-[#626262]">3 {{"calculateCreditPage.slider2.smallYear.month" | transloco}}</p>
            <p class="b6 text-[#626262]">36 {{"calculateCreditPage.slider2.smallYear.month" | transloco}}</p>
            <p class="b6 text-[#626262]">60 {{"calculateCreditPage.slider2.smallYear.month" | transloco}}</p>
          </div>
        </div>
      </div>
      <div class="flex flex-col gap-[14px]">
        <h3 class="b3">{{"calculateCreditPage.slider3.title" | transloco}}</h3>
        <div class="h-auto flex items-center gap-[12px]">
          <h3 class="h3">{{slider3.value | customCurrency}} </h3>
          <img ngSrc="./assets/icons/editing-icon.svg" alt="edit icon" height="19" width="18" loading="lazy">
        </div>
        <div class="">
          <mat-slider
            class="example-margin"
            [max]="maxInitialPayment()"
            [min]="minInitialPayment()"
            [step]="step()">
            <input matSliderThumb #slider3 formControlName="initialAmount" (change)="onSliderChange()">
          </mat-slider>
          <div class="flex justify-between">
            <p class="b6 text-[#626262]">1 000 000  {{"calculateCreditPage.slider1.sum" | transloco}}</p>
            <p class="b6 text-[#626262]">3 000 000  {{"calculateCreditPage.slider1.sum" | transloco}}</p>
            <p class="b6 text-[#626262]">5 000 000  {{"calculateCreditPage.slider1.sum" | transloco}}</p>
          </div>
        </div>
      </div>
    </form>

    <div class="lg:w-[50%] md:w-[100%]
                py-[100px] px-[50px] lg:pb-[87px] md:pb-[50px] sm:p-[24px] mobile:p-[24px]
                flex flex-col lg:gap-[24px] md:gap-[24px] sm:gap-[16px] mobile:gap-[16px]
                rounded-[30px] bg-[#fff]"
                [ngClass]="isPaymentExceeded() ? 'w-[100%], justify-center, items-center':'justify-between'">
      @if(!isPaymentExceeded()){
        <div class="flex flex-col lg:gap-[12px] md:gap-[14px] sm:gap-[8px] mobile:gap-[8px]">
          <p class="b3 text-[#626262]">{{"calculateCreditPage.sideCard.cards.title1" | transloco}}</p>
          <h2 class="h2 text-[#262626]">{{monthlyPayment() | customCurrency}}</h2>
        </div>
        <div class="flex flex-col lg:gap-[12px] md:gap-[14px] sm:gap-[8px] mobile:gap-[8px]">
          <p class="b3 text-[#626262]">{{"calculateCreditPage.sideCard.cards.title2" | transloco}}</p>
          <h2 class="h2 text-[#262626]">{{totalPayment() | customCurrency}}</h2>
        </div>
        <div class="flex flex-col lg:gap-[12px] md:gap-[14px] sm:gap-[8px] mobile:gap-[8px]">
          <p class="b3 text-[#626262]">{{"calculateCreditPage.sideCard.cards.title3" | transloco}}</p>
          <h2 class="h2 text-[#262626]">{{interest()}} %</h2>
        </div>
      } @else {
        <div class="w-1/2 p-[15px] flex flex-col gap-[10px] items-center justify-center bg-[#ED6356] rounded-[16px] ">
          <p class="b2 w-[30px] h-[30px] p-[10px] flex items-center justify-center bg-[#fff] rounded-[50%] opacity-50 text-[#ED6356] text-[30px]">!</p>
          <p class="b2 text-[#fff] text-center">Decrease initial payment amount !!! <br> Initial payment amount exceeded than loan amount. </p>
        </div>
      }
    </div>
  </div>
</section>
